{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\katar\\\\Desktop\\\\zavrsni\\\\frontend\\\\src\\\\AddProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './AddProduct.css';\nimport authHeader from './services/auth-header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddProduct() {\n  _s();\n  const [productId, setProductId] = useState(null);\n  const [name, setName] = useState('');\n  const [image, setImage] = useState(null);\n  const [description, setDescription] = useState('');\n  const [sizeOptions, setSizeOptions] = useState([]);\n  const [selectedSize, setSelectedSize] = useState('');\n  const [price, setPrice] = useState(0);\n  const [colorOptions, setColorOptions] = useState([]);\n  const [selectedColor, setSelectedColor] = useState('');\n  const [genderOptions, setGenderOptions] = useState([]);\n  const [selectedGender, setSelectedGender] = useState('');\n  const [categoryOptions, setCategoryOptions] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  useEffect(() => {\n    axios.get('http://localhost:8080/sizes', {\n      headers: authHeader()\n    }).then(response => {\n      setSizeOptions(response.data);\n    }).catch(error => {\n      console.error(error);\n    });\n\n    // ... (similar requests for colors, genders, and categories) ...\n\n    // Retrieve the product ID from your URL or state\n    // setProductId(productIdFromUrlOrState);\n    // Load product details if editing mode is enabled\n  }, []);\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('image', image);\n    formData.append('name', name);\n    formData.append('description', description);\n    formData.append('price', price);\n    formData.append('color', selectedColor);\n    formData.append('size', selectedSize);\n    formData.append('gender', selectedGender);\n    formData.append('category', selectedCategory);\n    try {\n      if (productId) {\n        // Edit mode: send a PUT request\n        await axios.put(`http://localhost:8080/products/${productId}`, formData, {\n          headers: {\n            ...authHeader(),\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        alert('Proizvod uspješno uređen.');\n      } else {\n        // Add mode: send a POST request\n        await axios.post('http://localhost:8080/products', formData, {\n          headers: {\n            ...authHeader(),\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        alert('Proizvod uspješno dodan.');\n      }\n\n      // Reset form fields and state\n      // ...\n    } catch (error) {\n      console.error(error);\n      alert('Došlo je do pogreške prilikom obrade proizvoda.');\n    }\n  };\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`http://localhost:8080/products/${productId}`, {\n        headers: authHeader()\n      });\n      alert('Proizvod uspješno obrisan.');\n\n      // Reset form fields and state or redirect as needed\n    } catch (error) {\n      console.error(error);\n      alert('Došlo je do pogreške prilikom brisanja proizvoda.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: productId ? 'Uredi proizvod' : 'Dodaj proizvod'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      encType: \"multipart/form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: productId ? 'Uredi' : 'Dodaj'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), productId && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        className: \"delete-button\",\n        children: \"Obri\\u0161i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(AddProduct, \"8FpFvqHYvwnfwVEAsxeUDHpHPHE=\");\n_c = AddProduct;\nexport default AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useState","useEffect","axios","authHeader","jsxDEV","_jsxDEV","AddProduct","_s","productId","setProductId","name","setName","image","setImage","description","setDescription","sizeOptions","setSizeOptions","selectedSize","setSelectedSize","price","setPrice","colorOptions","setColorOptions","selectedColor","setSelectedColor","genderOptions","setGenderOptions","selectedGender","setSelectedGender","categoryOptions","setCategoryOptions","selectedCategory","setSelectedCategory","get","headers","then","response","data","catch","error","console","handleFormSubmit","e","preventDefault","formData","FormData","append","put","alert","post","handleDelete","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","encType","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/katar/Desktop/zavrsni/frontend/src/AddProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './AddProduct.css';\r\nimport authHeader from './services/auth-header';\r\n\r\nfunction AddProduct() {\r\n  const [productId, setProductId] = useState(null);\r\n  const [name, setName] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [description, setDescription] = useState('');\r\n  const [sizeOptions, setSizeOptions] = useState([]);\r\n  const [selectedSize, setSelectedSize] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const [colorOptions, setColorOptions] = useState([]);\r\n  const [selectedColor, setSelectedColor] = useState('');\r\n  const [genderOptions, setGenderOptions] = useState([]);\r\n  const [selectedGender, setSelectedGender] = useState('');\r\n  const [categoryOptions, setCategoryOptions] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:8080/sizes', { headers: authHeader() })\r\n      .then(response => {\r\n        setSizeOptions(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n\r\n    // ... (similar requests for colors, genders, and categories) ...\r\n\r\n    // Retrieve the product ID from your URL or state\r\n    // setProductId(productIdFromUrlOrState);\r\n    // Load product details if editing mode is enabled\r\n\r\n  }, []);\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('image', image);\r\n    formData.append('name', name);\r\n    formData.append('description', description);\r\n    formData.append('price', price);\r\n    formData.append('color', selectedColor); \r\n    formData.append('size', selectedSize); \r\n    formData.append('gender', selectedGender); \r\n    formData.append('category', selectedCategory); \r\n\r\n    try {\r\n      if (productId) {\r\n        // Edit mode: send a PUT request\r\n        await axios.put(`http://localhost:8080/products/${productId}`, formData, {\r\n          headers: {\r\n            ...authHeader(),\r\n            'Content-Type': 'multipart/form-data'\r\n          },\r\n        });\r\n\r\n        alert('Proizvod uspješno uređen.');\r\n      } else {\r\n        // Add mode: send a POST request\r\n        await axios.post('http://localhost:8080/products', formData, {\r\n          headers: {\r\n            ...authHeader(),\r\n            'Content-Type': 'multipart/form-data'\r\n          },\r\n        });\r\n\r\n        alert('Proizvod uspješno dodan.');\r\n      }\r\n\r\n      // Reset form fields and state\r\n      // ...\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Došlo je do pogreške prilikom obrade proizvoda.');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axios.delete(`http://localhost:8080/products/${productId}`, {\r\n        headers: authHeader()\r\n      });\r\n\r\n      alert('Proizvod uspješno obrisan.');\r\n\r\n      // Reset form fields and state or redirect as needed\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Došlo je do pogreške prilikom brisanja proizvoda.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h2>{productId ? 'Uredi proizvod' : 'Dodaj proizvod'}</h2>\r\n      <form onSubmit={handleFormSubmit} encType=\"multipart/form-data\">\r\n        {/* ... (form fields) */}\r\n        <button type=\"submit\">{productId ? 'Uredi' : 'Dodaj'}</button>\r\n        {productId && (\r\n          <button onClick={handleDelete} className=\"delete-button\">\r\n            Obriši\r\n          </button>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddProduct;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}